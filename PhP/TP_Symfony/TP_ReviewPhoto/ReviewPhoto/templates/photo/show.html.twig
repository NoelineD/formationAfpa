{% extends 'base.html.twig' %}

{% block body %}
	<div class="jumbotron">
		<div class="container">
			<div class="row">
				<div class="col-md-8">
					<img src="{{ vich_uploader_asset(photo, 'imageFile')  }}" alt="card-img-top" style="width: 100%; height: auto;">
				</div>
				<div class="col-md-4">
					<h1>{{ photo.title }}</h1>
					<h2>Postée le :
						{{ photo.postAt|date("d/m/Y") }}</h2>
					<div class="text-primary" style="font-weight: bold; font-size: 1.3rem">
						<p>Par :
							{{ photo.user.pseudo }}</p>
					</div>
					{% if app.user %}
						<h3>Mettre un commentaire</h3>
						<div id="commentForm" class="mt-4">
						    {{ form_start(commentForm) }}
								<div class="row">
									<div class="col">{{ form_row(commentForm.content) }}</div>
								</div>
								<div class="form-group">
									<button class="btn btn-primary">Envoyer</button>
								</div>
                            {{ form_end(commentForm) }}
						</div>
					{% endif %}
				</div>
			</div>
		</div>
	</div>
	<div class="container mt-4">
		<div class="row">
			<div class="col-md-8">
				<h2>Commentaires</h2>
				<table class="table table-striped">
					<tr>
						<th>Commentée par</th>
						<th>Date</th>
						<th>Commentaire</th>
					</tr>
					{% for comment in photo.comments %}
					<tr>
						<td>{{ comment.user.pseudo }}</td>
						<td>{{ comment.createAt|date("d/m/Y") }}</td>
						<td>{{ comment.content }}</td>
					</tr>
					{% endfor %}
				</table>
			</div>
		</div>
	</div>
{% endblock %}
